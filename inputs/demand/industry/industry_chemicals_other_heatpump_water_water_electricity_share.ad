# This query adjusts the share of heat pumps and also adjusts the potential
# of residual heat from processes. Heat pumps reuse heat from processes.

- query =
  present_potential_residual_heat_processes = QUERY_PRESENT(->{ V(LINK(industry_useful_demand_for_chemical_other_useable_heat,industry_chemicals_other_processes_potential_residual_heat),share) });
  future_potential_residual_heat_processes = present_potential_residual_heat_processes * (1.0 - DIVIDE(USER_INPUT(), 100));

  EACH(
    UPDATE(
      LINK(industry_chemicals_other_heatpump_water_water_electricity, industry_useful_demand_for_chemical_other_useable_heat),
      share,
      DIVIDE(USER_INPUT(), 100)
    ),
    UPDATE(
      LINK(industry_chemicals_other_processes_potential_residual_heat,industry_useful_demand_for_chemical_other_useable_heat),
      share,
      future_potential_residual_heat_processes
    )
  )
- share_group = chemical_other_heat
- priority = 0
- max_value = 100.0
- min_value = 0.0
- start_value_gql = present:V(industry_chemicals_other_heatpump_water_water_electricity,share_of_industry_useful_demand_for_chemical_other_useable_heat) * 100
- step_value = 0.1
- unit = %
- update_period = future
